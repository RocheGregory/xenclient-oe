Index: linux-3.19.8/arch/x86/xen/p2m.c
===================================================================
--- linux-3.19.8.orig/arch/x86/xen/p2m.c	2015-06-08 14:03:53.360799899 +0200
+++ linux-3.19.8/arch/x86/xen/p2m.c	2015-06-08 14:04:21.240468924 +0200
@@ -659,6 +659,7 @@
 
 	return true;
 }
+EXPORT_SYMBOL_GPL(set_phys_to_machine);
 
 #define M2P_OVERRIDE_HASH_SHIFT	10
 #define M2P_OVERRIDE_HASH	(1 << M2P_OVERRIDE_HASH_SHIFT)
Index: linux-3.19.8/mm/memory.c
===================================================================
--- linux-3.19.8.orig/mm/memory.c	2015-06-08 14:03:53.627463399 +0200
+++ linux-3.19.8/mm/memory.c	2015-06-08 14:04:21.460466317 +0200
@@ -1391,6 +1391,7 @@
 	mmu_notifier_invalidate_range_end(mm, start, end);
 	tlb_finish_mmu(&tlb, start, end);
 }
+EXPORT_SYMBOL_GPL(zap_page_range);
 
 /**
  * zap_page_range_single - remove user pages in a given range
Index: linux-3.19.8/drivers/video/fbdev/Kconfig
===================================================================
--- linux-3.19.8.orig/drivers/video/fbdev/Kconfig	2015-06-08 14:07:52.877957059 +0200
+++ linux-3.19.8/drivers/video/fbdev/Kconfig	2015-06-08 14:10:42.745941639 +0200
@@ -2257,6 +2257,16 @@
 	  frame buffer driver.  It communicates with a back-end
 	  in another domain.
 
+config XEN_FBDEV2_FRONTEND
+        tristate "Xen virtual frame buffer support for XenClient"
+        depends on FB && XEN
+        select FB_CFB_COPYAREA
+        select FB_CFB_IMAGEBLIT
+        select FB_CFB_FILLRECT
+        default y
+        help
+          Hack to compile the needed functions for xenfb2
+
 config FB_METRONOME
 	tristate "E-Ink Metronome/8track controller support"
 	depends on FB
